server:
  port: 8080
  api_key: "changeme"

database:
  host: localhost
  port: 5432
  name: fd
  user: fd
  password: fd
  max_conns: 20

nats:
  url: nats://localhost:4222

minio:
  endpoint: localhost:9000
  access_key: minioadmin
  secret_key: minioadmin
  bucket: fd-frames
  use_ssl: false

vision:
  models_dir: ./models
  detection_threshold: 0.3
  recognition_threshold: 0.4
  default_fps: 5
  max_fps: 10
  worker_count: 6
  frame_width: 1920
  min_face_size: 20
  intra_op_threads: 2   # ORT threads per op per session (6 workers × 3 models × 2 = 36 max)
  inter_op_threads: 1   # ORT threads between ops per session

tracking:
  max_age: 30
  min_hits: 3
  re_recognize_interval: 3s

storage:
  frame_retention: 1000  # keep last N frames per stream in MinIO (0 = keep all)

logging:
  level: info
  format: json
